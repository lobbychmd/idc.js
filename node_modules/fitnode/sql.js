
var sql = function (sqlstr) {
    this.sqlstr = sqlstr;
}

exports.sql = sql;

sql.prototype = {
    constructor: sql,
    fieldsInclude: function () {
        var fields = [];
        var reg1 = /[Ss][Ee][Ll][Ee][Cc][Tt]\s+(\w+\s+)*(\w+\s*=.+[,\s]+)+\s+[Ff][Rr][Oo][Mm]/g;
        var str;
        do {
            console.log(this.sqlstr);
            console.log(1);
            var r1 = reg1.exec(this.sqlstr);
            console.log(2);
            if (r1) { str = r1[0]; console.log(str); }
            console.log(3);
            break;
        }
        while (1);

        var reg2 = /(\w+)\s*=\s*[\w]+/g;
        do {
            var r = reg2.exec(str);
            if (r) {
                fields.push(r[1]);
                console.log(r[1]);
            }
            else break;
        }
        while (1);

        if (fields.length == 0) fields.push('analyse fields in sql failed.');
        return fields;
    }
}